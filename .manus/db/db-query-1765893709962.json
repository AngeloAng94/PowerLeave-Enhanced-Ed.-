{
  "query": "UPDATE leave_balances lb\nJOIN (\n  SELECT userId, SUM(days * hours / 8) as total_used\n  FROM leave_requests \n  WHERE status = 'approved'\n  GROUP BY userId\n) r ON lb.user_id = r.userId\nSET lb.used_days = r.total_used",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2VbK495ECNVdRwG.root --database M7yuKMnqbZ6zKJgcZb5X5y --execute UPDATE leave_balances lb\nJOIN (\n  SELECT userId, SUM(days * hours / 8) as total_used\n  FROM leave_requests \n  WHERE status = 'approved'\n  GROUP BY userId\n) r ON lb.user_id = r.userId\nSET lb.used_days = r.total_used",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 61
}